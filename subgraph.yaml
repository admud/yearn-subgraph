specVersion: 0.0.2
description: Subgraph for DAOVault
schema:
  file: ./schema.graphql

dataSources:
  # Yearn Series
  ## Yearn Fighter USDT
  - kind: ethereum/contract
    name: YearnFighterUSDT
    network: kovan
    source:
      address: "0x6B150E9BD70E216775c8b73270E64e870a3110c1"
      startBlock: 24705457
      abi: YearnFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: YearnFighter
          file: ./abis/YearnFighter.json
        - name: YearnFarmerv2
          file: ./abis/YearnFarmerv2.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: yEarn
          file: ./abis/yEarn.json
        - name: yVault
          file: ./abis/yVault.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleShareTransfer
      file: ./src/mapping.ts

  ## Yearn Fighter USDC
  - kind: ethereum/contract
    name: YearnFighterUSDC
    network: kovan
    source:
      address: "0x6E15e283dc430eca010Ade8b11b5B377902d6e56"
      startBlock: 24705463
      abi: YearnFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: YearnFighter
          file: ./abis/YearnFighter.json
        - name: YearnFarmerv2
          file: ./abis/YearnFarmerv2.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: yEarn
          file: ./abis/yEarn.json
        - name: yVault
          file: ./abis/yVault.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleShareTransfer
      file: ./src/mapping.ts

  ## Yearn Fighter DAI
  - kind: ethereum/contract
    name: YearnFighterDAI
    network: kovan
    source:
      address: "0x2428bFD238a3632552B343297c504F60283009eD"
      startBlock: 24705468
      abi: YearnFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: YearnFighter
          file: ./abis/YearnFighter.json
        - name: YearnFarmerv2
          file: ./abis/YearnFarmerv2.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: yEarn
          file: ./abis/yEarn.json
        - name: yVault
          file: ./abis/yVault.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleShareTransfer
      file: ./src/mapping.ts

  ## Yearn Fighter TUSD
  - kind: ethereum/contract
    name: YearnFighterTUSD
    network: kovan
    source:
      address: "0xEcCb98c36bfc8c49c6065d1cD90bcf1c6F02D4AD"
      startBlock: 24738659
      abi: YearnFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: YearnFighter
          file: ./abis/YearnFighter.json
        - name: YearnFarmerv2
          file: ./abis/YearnFarmerv2.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: yEarn
          file: ./abis/yEarn.json
        - name: yVault
          file: ./abis/yVault.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleShareTransfer
      file: ./src/mapping.ts
  # Compound Series
  ## Compound Fighter USDT
  - kind: ethereum/contract
    name: CompoundFighterUSDT
    network: kovan
    source:
      address: "0x5d102E0Bdf2037899E1FF2E8cc50987108533c52"
      startBlock: 24070008
      abi: CompoundFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: CompoundFighter
          file: ./abis/CompoundFighter.json
        - name: CompoundFarmer
          file: ./abis/CompoundFarmer.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleCompoundShareTransfer
      file: ./src/mapping.ts
  ## Compound Fighter USDC
  - kind: ethereum/contract
    name: CompoundFighterUSDC
    network: kovan
    source:
      address: "0x05AB7659e6Ef9Ba1a5F790b402fD1688F01b003E"
      startBlock: 24069986
      abi: CompoundFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: CompoundFighter
          file: ./abis/CompoundFighter.json
        - name: CompoundFarmer
          file: ./abis/CompoundFarmer.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleCompoundShareTransfer
      file: ./src/mapping.ts
  ## Compound Fighter DAI
  - kind: ethereum/contract
    name: CompoundFighterDAI
    network: kovan
    source:
      address: "0x47E565B1e23cdA3D6bB69e7ae398b884f5ADdc7D"
      startBlock: 24069965
      abi: CompoundFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: CompoundFighter
          file: ./abis/CompoundFighter.json
        - name: CompoundFarmer
          file: ./abis/CompoundFarmer.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleCompoundShareTransfer
      file: ./src/mapping.ts

  # Harvest Series
  ## Harvest Fighter USDT
  - kind: ethereum/contract
    name: HarvestFighterUSDT
    network: kovan
    source:
      address: "0xb41A49De82e95dc1E028839C3440Ac97f9A7832C"
      abi: HarvestFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: HarvestFighter
          file: ./abis/HarvestFighter.json
        - name: HarvestFarmer
          file: ./abis/HarvestFarmer.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleHarvestShareTransfer
      file: ./src/mapping.ts

  ## Harvest Fighter USDC
  - kind: ethereum/contract
    name: HarvestFighterUSDC
    network: kovan
    source:
      address: "0x54783464848b35d6fb9bba37C1dDd23aC3B1A11A"
      abi: HarvestFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: HarvestFighter
          file: ./abis/HarvestFighter.json
        - name: HarvestFarmer
          file: ./abis/HarvestFarmer.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleHarvestShareTransfer
      file: ./src/mapping.ts

  ## Harvest Fighter DAI
  - kind: ethereum/contract
    name: HarvestFighterDAI
    network: kovan
    source:
      address: "0x0f89EE5b95d1d5cfb10F29775d816fC6D8Adb9FC"
      abi: HarvestFighter
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: HarvestFighter
          file: ./abis/HarvestFighter.json
        - name: HarvestFarmer
          file: ./abis/HarvestFarmer.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleHarvestShareTransfer
      file: ./src/mapping.ts

  # DAO Vault Citadel
  - kind: ethereum/contract
    name: DAOVaultCitadel
    network: kovan
    source:
      address: "0x542a42496C96b946324f7dce2B030d5643d9eF8A"
      abi: Citadel
      startBlock: 25156223
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Account
        - AccountVaultBalance
        - Token
        - Transfer
        - Deposit
        - Withdrawal
        - Transaction
        - FarmerToken
      abis:
        - name: ERC20
          file: ./abis/ERC20.json
        - name: Citadel
          file: ./abis/Citadel.json
        - name: CitadelStrategy
          file: ./abis/CitadelStrategy.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleCitadelShareTransfer
        - event: Deposit(indexed address,address,uint256,uint256)
          handler: handleCitadelDeposit
        - event: Withdraw(indexed address,address,uint256,uint256)
          handler: handleCitadelWithdraw
      file: ./src/mapping.ts
